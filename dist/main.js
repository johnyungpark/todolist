(()=>{const e=document.querySelector(".addTask"),t=document.querySelector("#content");let n=[];function i(){e.removeEventListener("click",i);let l=document.createElement("div");l.classList.add("inputBox"),t.appendChild(l);let a=document.createElement("form");l.appendChild(a);let r=document.createElement("div");r.classList.add("taskNameText"),r.innerText="Task:  ",a.appendChild(r);let s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("id","taskName"),a.appendChild(s);let c=document.createElement("div");c.classList.add("taskDetail"),c.innerText="Detail of task:  ",a.appendChild(c);let u=document.createElement("textarea");u.setAttribute("type","text"),u.setAttribute("id","detailInput"),a.appendChild(u);let p=document.createElement("div");p.classList.add("timeDetail"),p.innerText="Due by:  ",a.appendChild(p);let o=document.createElement("input");o.setAttribute("type","date"),o.setAttribute("id","timeInput"),a.appendChild(o);let m=document.createElement("label");m.setAttribute("for","priority"),m.innerHTML="<br>Task priority: ",a.appendChild(m);let b=document.createElement("select");b.setAttribute("id","prioritySelect"),b.setAttribute("name","priority"),a.appendChild(b);let E=document.createElement("option");E.setAttribute("value","Normal"),E.setAttribute("id","normal"),E.innerText="Normal",b.appendChild(E);let v=document.createElement("option");v.setAttribute("value","High"),v.setAttribute("id","high"),v.innerText="High",b.appendChild(v);let h=document.createElement("button");h.classList.add("submitButton"),h.setAttribute("id","submitButtonID"),h.innerText="Submit",a.appendChild(h),h.addEventListener("click",(l=>function(l){let a=l.target.parentElement.parentElement;event.preventDefault();let r=document.getElementById("taskName").value,s=document.getElementById("detailInput").value,c=document.getElementById("timeInput").value,u=document.getElementById("prioritySelect").selectedOptions[0].value,p=document.createElement("div");p.setAttribute("id","enteredTask"),t.insertBefore(p,e);let o=document.createElement("div");o.setAttribute("id","inputDetails"),o.innerHTML="Task: "+r+"<span>Priority: "+u+" | Due by: "+c+"</span>",p.appendChild(o);let m=document.createElement("div");m.setAttribute("id","bottomRow"),p.appendChild(m);let b=document.createElement("div");b.setAttribute("id","taskDetails"),b.innerHTML="",m.appendChild(b);let E=document.createElement("div");E.classList.add("buttonList"),m.appendChild(E);let v=document.createElement("button");v.classList.add("describeTask"),v.innerText="☷",E.appendChild(v);let h=document.createElement("button");h.classList.add("completedTask"),h.innerText="✓",E.appendChild(h);let T=document.createElement("button");T.classList.add("editTask"),T.innerText="✎",E.appendChild(T);let k=document.createElement("button");k.classList.add("deleteTask"),k.innerText="X",E.appendChild(k);let L={button1:v,button2:k,button3:h,button4:T,div:p,inputs:o,description:b,task:r,detail:s,time:c,priority:u};n.push(L),console.log(n),t.removeChild(a),v.addEventListener("click",(e=>function(e){let t=e.target,i=n.findIndex((e=>e.button1===t)),d=n[i].description;""===d.innerHTML?d.innerHTML="Detail: "+n[i].detail:d.innerHTML=""}(e))),h.addEventListener("click",(e=>function(e){let t=e.target,i=n.findIndex((e=>e.button3===t));n[i].div.classList.toggle("completed");let d=n[i].inputs;d.innerHTML==="Task: "+n[i].task+"<span>Priority: "+n[i].priority+" | Due by: "+n[i].time+"</span>"?d.innerHTML="<s>Task: "+n[i].task+"</s><span><s>Priority: "+n[i].priority+" | Due by: "+n[i].time+"</span></s>":d.innerHTML="Task: "+n[i].task+"<span>Priority: "+n[i].priority+" | Due by: "+n[i].time+"</span>"}(e))),k.addEventListener("click",(e=>function(e){let i=e.target,d=n.findIndex((e=>e.button2===i)),l=i.parentElement.parentElement.parentElement;n.splice(d,1),t.removeChild(l)}(e))),T.addEventListener("click",(l=>function(l){let a=l.target,r=n.findIndex((e=>e.button4===a));e.removeEventListener("click",i);let s=document.createElement("div");s.classList.add("inputBox"),t.appendChild(s);let c=document.createElement("form");s.appendChild(c);let u=document.createElement("div");u.classList.add("taskNameText"),u.innerText="Task:  ",c.appendChild(u);let p=document.createElement("input");p.setAttribute("type","text"),p.setAttribute("id","taskName"),c.appendChild(p);let o=document.createElement("div");o.classList.add("taskDetail"),o.innerText="Detail of task:  ",c.appendChild(o);let m=document.createElement("textarea");m.setAttribute("type","text"),m.setAttribute("id","detailInput"),c.appendChild(m);let b=document.createElement("div");b.classList.add("timeDetail"),b.innerText="Due by:  ",c.appendChild(b);let E=document.createElement("input");E.setAttribute("type","date"),E.setAttribute("id","timeInput"),c.appendChild(E);let v=document.createElement("label");v.setAttribute("for","priority"),v.innerHTML="<br>Task priority: ",c.appendChild(v);let h=document.createElement("select");h.setAttribute("id","prioritySelect"),h.setAttribute("name","priority"),c.appendChild(h);let T=document.createElement("option");T.setAttribute("value","Normal"),T.setAttribute("id","normal"),T.innerText="Normal",h.appendChild(T);let k=document.createElement("option");k.setAttribute("value","High"),k.setAttribute("id","high"),k.innerText="High",h.appendChild(k);let L=document.createElement("button");L.classList.add("submitButton"),L.setAttribute("id","submitButtonID"),L.innerText="Submit",c.appendChild(L);let y=document.createElement("button");y.classList.add("deleteInputBox"),y.innerText="X",s.appendChild(y),y.addEventListener("click",(e=>d(e))),p.value=n[r].task,m.value=n[r].detail,E.value=n[r].time,"Normal"===n[r].priority?T.selected="selected":k.selected="selected",L.addEventListener("click",(()=>{event.preventDefault();let d=n[r].inputs,l=n[r].description;n[r].task=p.value,n[r].detail=m.value,n[r].time=E.value,n[r].priority=h.selectedOptions[0].value,d.innerHTML="Task: "+n[r].task+"<span>Priority: "+n[r].priority+" | Due by: "+n[r].time+"</span>",l.innerHTML="",t.removeChild(s),e.addEventListener("click",i)}))}(l))),e.addEventListener("click",i)}(l)));let T=document.createElement("button");T.classList.add("deleteInputBox"),T.innerText="X",l.appendChild(T),T.addEventListener("click",(e=>d(e)))}function d(n){let d=n.target.parentElement;t.removeChild(d),e.addEventListener("click",i)}e.addEventListener("click",i)})();